<% provide(:title, "Configuration") %>

<div class="home panel panel-primary">
  <div class="panel-heading">
    <h3 class="panel-title"><%= yield(:title) %></h3>
  </div>
  <div class="panel-body">
    <div class="col-md-12 col-lg-12 text-right">
      <a href="<%= admin_config_migrations_path %>" class="btn btn-primary">Generate migration</a>
      <a id="console-button" class="btn btn-info closed" onclick="console()">Console</a>
    </div>
    <%= form_tag(admin_config_settings_path, method: "post") do %>
    <div class="col-md-6 col-lg-6">
      <h4 class="field-title">Header text</h4>
      <div class="input-group">
        <label class="input-group-addon"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></label>
        <input class="form-control" type="text"  name="header_text" value="<%= $gams_config['header_text'] %>">
      </div>
      <br>
    </div>
    <div class="col-md-6 col-lg-6">
      <h4 class="field-title">Footer text</h4>
      <div class="input-group">
        <label class="input-group-addon"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></label>
        <input class="form-control" type="text"  name="footer_text" value="<%= $gams_config['footer_text'] %>">
      </div>
      <br>
    </div>
    <div class="col-md-12 col-lg-12">
      <h4 class="field-title">Footer url</h4>
      <div class="input-group">
        <label class="input-group-addon"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></label>
        <input class="form-control" type="text"  name="footer_url" value="<%= $gams_config['footer_url'] %>">
      </div>
      <br>
    </div>
    <div class="col-md-12 col-lg-12">
      <input class="btn btn-primary" type="submit" value="Save">
      <br><br>
    </div>
    <% end %>
    <div class="col-md-12 col-lg-12">
      <h4 class="field-title">Configuration settings</h4>
      <div class="list-group">
        <a href="<%= admin_config_guide_path %>" class="list-group-item">
          <span class="glyphicon glyphicon-education" aria-hidden="true"></span>
          <b>Starting guide</b>
        </a>
        <a href="<%= admin_config_development_path %>" class="list-group-item">
          <span class="glyphicon glyphicon-wrench" aria-hidden="true"></span>
          <b>Development</b>
        </a>
        <a href="<%= admin_config_languages_path %>" class="list-group-item">
          <span class="glyphicon glyphicon-flag" aria-hidden="true"></span>
          <b>Languages</b>
        </a>
      </div>
    </div>

    <div class="col-md-6 col-lg-6">
      <h4 class="field-title">Pages settings</h4>
      <div class="list-group">
        <a href="<%= new_admin_page_path %>" class="list-group-item">
          <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
          <b>New page</b>
        </a>
        <a href="<%= new_admin_field_path %>" class="list-group-item">
          <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
          <b>New field</b>
        </a>
        <a href="<%= admin_new_field_repeater_path %>" class="list-group-item">
          <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
          <b>New repeater</b>
        </a>
      </div>
    </div>

    <div class="col-md-6 col-lg-6">
      <h4 class="field-title">Types settings</h4>
      <div class="list-group">
        <a href="<%= new_admin_type_path %>" class="list-group-item">
          <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
          <b>New type</b>
        </a>
        <a href="<%= new_admin_typefield_path %>" class="list-group-item">
          <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
          <b>New typefield</b>
        </a>
      </div>
    </div>

    <% console %>
  </div>
</div>

<script>

// Console working
function console() {
  prompt = $('#console');
  button = $('#console-button');
  if (button.hasClass('closed')) {
    button.removeClass('closed');
    button.removeClass('btn-info');
    button.addClass('opened');
    button.addClass('btn-danger');
    prompt.fadeIn( "slow" );
  } else {
    button.removeClass('opened');
    button.removeClass('btn-danger');
    button.addClass('closed');
    button.addClass('btn-info');
    prompt.fadeOut( "slow" );
  }
}

</script>
